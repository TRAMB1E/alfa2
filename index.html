<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<title>Финздоровье</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body {
  margin: 0;
  background: #ffffff;
  font-family: system-ui, -apple-system, sans-serif;
  color: #000;
}

.app {
  max-width: 390px;
  margin: auto;
  background: #fff;
  min-height: 100vh;
  padding: 16px 15px 90px;
  box-sizing: border-box;
}

/* Заголовок */
h1 {
  font-size: 21px;
  font-weight: 700;
  line-height: 1.3;
  margin-bottom: 10px;
}
h1 span {
  color: #ff3b00;
}

/* ===== КРУГОВЫЕ ДИАГРАММЫ (SVG) ===== */
.charts-card {
  background: #f5f5f5;
  border-radius: 20px;
  padding: 20px 22px 22px;
  display: flex;
  justify-content: space-around;
  align-items: center;
  cursor: pointer;
}

.chart-box {
  text-align: center;
}

.donut {
  width: 140px;
  height: 140px;
}

.donut svg {
  width: 100%;
  height: 100%;
}

.chart-label {
  margin-top: 6px;
  font-size: 13px;
  font-weight: 600;
}

/* Цвета сегментов — ДОХОДЫ */
.income-arc-1 { fill: #FACC15; }
.income-arc-2 { fill: #A3E635; }
.income-arc-3 { fill: #22D3EE; }
.income-arc-4 { fill: #2563EB; }
.income-arc-5 { fill: #A855F7; }
.income-arc-6 { fill: #F472B6; }

/* Цвета сегментов — РАСХОДЫ */
.expense-arc-1 { fill: #A3E635; }
.expense-arc-2 { fill: #2563EB; }
.expense-arc-3 { fill: #22D3EE; }
.expense-arc-4 { fill: #8B5CF6; }
.expense-arc-5 { fill: #F472B6; }
.expense-arc-6 { fill: #FACC15; }

/* ===== ЗДОРОВЬЕ ===== */
.health {
  margin-top: 15px;
}

.health-label {
  font-size: 12px;
  font-weight: 600;
  margin-bottom: 4px;
}

.health-bar {
  height: 10px;
  background: #a3e635;
  border-radius: 5px;
  position: relative;
  overflow: visible;
}

.health-fill {
  width: 100%;
  height: 100%;
}

.health-heart {
  position: absolute;
  right: -6px;
  top: 50%;
  transform: translate(0, -50%);
}

.health-heart svg {
  width: 14px;
  height: 14px;
  fill: #ff3b00;
  stroke: #000000;
  stroke-width: 1.5px;
}

.health-value {
  font-size: 10px;
  margin-top: 3px;
  text-align: right;
}

/* ===== ЗАДАНИЯ (СЛАЙДЕР + РАСКРЫТИЕ) ===== */
.tasks-card {
  margin-top: 15px;
  background: #ffffff;
  border-radius: 14px;
  border: 1px solid #eee;
  overflow: hidden;
}

/* контейнер со слайдами */
.tasks-slider {
  display: flex;
  width: 300%;              /* три страницы */
  transition: 0.3s;
}

/* страница */
.task-page {
  width: 33.3333%;
  padding: 16px;
  box-sizing: border-box;
  cursor: pointer;          /* нажимаем по всему блоку */
}

.task-page h3 {
  margin-bottom: 12px;
  font-size: 18px;
  font-weight: 700;
  text-align: center;
}

/* краткий / подробный списки */
.tasks-short,
.tasks-full {
  margin-top: 4px;
}

.tasks-full {
  display: none;
}

.tasks-card.expanded .tasks-short {
  display: none;
}

.tasks-card.expanded .tasks-full {
  display: block;
}

.task {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-top: 8px;
  font-size: 13px;
}

.task-prefix {
  font-weight: 700;
}

.task-link {
  color: #ff3b00;
}


/* чекбоксы */
.check {
  flex: 0 0 20px;          /* фиксированная ширина, не сжимается */
  min-width: 20px;
  width: 20px;
  height: 20px;
  border-radius: 3px;
  border: 2px solid #000000;
  box-sizing: border-box;
  position: relative;
}

/* галочка внутри квадрата, один размер для всех */
.check.active::after {
  content: "";
  position: absolute;
  width: 8px;
  height: 12px;
  border-right: 2px solid #ff3b00;
  border-bottom: 2px solid #ff3b00;
  transform: rotate(45deg);
  left: 3px;
  top: 0px;
}

/* точки */
.dots {
  display: flex;
  justify-content: center;
  padding: 8px 0 10px;
}

.dot {
  width: 6px;
  height: 6px;
  background: #ccc;
  border-radius: 50%;
  margin: 0 4px;
}

.dot.active {
  background: #333;
}

/* ===== ФИНАНСОВЫЕ РАЗДЕЛЫ ===== */
.finance-title {
  margin-top: 24px;
  font-weight: 700;
  font-size: 20px;
}

/* основная карточка */
.finance-main {
  background: linear-gradient(135deg, #ff5a1f, #ff8a00);
  height: 120px;
  border-radius: 18px;
  margin-top: 10px;
  color: white;
  padding: 16px;
  font-weight: 600;
  display: flex;
  align-items: flex-start;
  position: relative;
  overflow: hidden;
  cursor: pointer; /* чтобы было видно, что кликабельно */
}

.finance-text {
  font-size: 16px;
  line-height: 1.2;
  max-width: 70%;
}

/* иллюстрации */
.finance-illustration {
  position: absolute;
  right: -4px;
  bottom: -6px;
  height: 80%;
  pointer-events: none;
}

.finance-illustration-main {
  right: -8px;
  bottom: -8px;
  height: 110%;
}

.finance-grid {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 10px;
  margin-top: 10px;
}

.finance-card {
  height: 110px;
  border-radius: 18px;
  color: white;
  padding: 14px;
  font-weight: 600;
  display: flex;
  align-items: flex-start;
  font-size: 14px;
  position: relative;
  overflow: hidden;
}

.finance-link {
  text-decoration: none;
}

.finance-card.blue {
  cursor: pointer; /* календарь кликабелен */
}

.blue {
  background: linear-gradient(135deg, #6366f1, #3b82f6);
}

.green {
  background: linear-gradient(135deg, #22c55e, #16a34a);
}

/* ===== МОДАЛЬНОЕ ОКНО КАЛЕНДАРЯ ===== */
.calendar-modal {
  position: fixed;
  inset: 0;
  background: rgba(0,0,0,0.4);
  display: none;
  align-items: center;
  justify-content: center;
  z-index: 1000;
}

.calendar-modal-content {
  width: 100%;
  max-width: 390px;
  height: 100%;
  background: #ffffff;
  box-sizing: border-box;
  position: relative;
}

.calendar-iframe {
  width: 100%;
  height: 100%;
  border: none;
}

.calendar-close {
  position: absolute;
  top: 10px;
  right: 12px;
  width: 28px;
  height: 28px;
  border-radius: 50%;
  border: 1px solid #000;
  background: #ffffff;
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  font-size: 18px;
  line-height: 1;
}

/* ===== НИЖНЕЕ МЕНЮ ===== */
.navbar {
  position: fixed;
  bottom: 0;
  left: 0;
  right: 0;
  max-width: 390px;
  margin: auto;
  background: white;
  height: 60px;
  border-top: 1px solid #ddd;
  display: flex;
  justify-content: space-around;
  align-items: center;
}

.nav-item {
  font-size: 9px;
  text-align: center;
  color: #999;
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 2px;
}

.nav-item.active {
  color: #000;
  font-weight: 700;
}

.nav-icon {
  width: 18px;
  height: 18px;
}

.nav-icon svg {
  width: 100%;
  height: 100%;
  fill: currentColor;
}
</style>
</head>

<body>

<div class="app">

  <h1><span>A-Спокойствие</span> - это когда деньги под контролем</h1>

  <!-- Диаграммы -->
  <div class="charts-card" id="chartsCard">
    <!-- Доходы -->
    <div class="chart-box">
      <div class="donut">
        <svg viewBox="0 0 80 80" aria-hidden="true">
          <path class="income-arc-1"
                d="M 41.88 4.05 A 36 36 0 0 1 53.49 6.62 L 48.99 17.75 A 24 24 0 0 0 41.26 16.03 Z" />
          <path class="income-arc-2"
                d="M 56.90 8.21 A 36 36 0 0 1 31.90 75.08 L 34.60 63.38 A 24 24 0 0 0 51.27 18.81 Z" />
          <path class="income-arc-3"
                d="M 28.28 74.04 A 36 36 0 0 1 10.88 61.16 L 20.58 54.11 A 24 24 0 0 0 32.19 62.69 Z" />
          <path class="income-arc-4"
                d="M 8.82 58.00 A 36 36 0 0 1 4.14 36.86 L 16.09 37.91 A 24 24 0 0 0 19.22 52.00 Z" />
          <path class="income-arc-5"
                d="M 4.66 33.13 A 36 36 0 0 1 14.99 14.10 L 23.33 22.74 A 24 24 0 0 0 16.44 35.42 Z" />
          <path class="income-arc-6"
                d="M 17.84 11.63 A 36 36 0 0 1 38.12 4.05 L 38.74 16.03 A 24 24 0 0 0 25.22 21.09 Z" />
        </svg>
      </div>
      <div class="chart-label">Доходы</div>
    </div>

    <!-- Расходы -->
    <div class="chart-box">
      <div class="donut">
        <svg viewBox="0 0 80 80" aria-hidden="true">
          <path class="expense-arc-1"
                d="M 40.00 4.00
                   A 36 36 0 0 1 76.00 40.00
                   L 64.00 40.00
                   A 24 24 0 0 0 40.00 16.00 Z" />
          <path class="expense-arc-2"
                d="M 75.80 43.76
                   A 36 36 0 0 1 69.12 61.16
                   L 59.42 54.11
                   A 24 24 0 0 0 63.87 42.51 Z" />
          <path class="expense-arc-3"
                d="M 66.75 64.09
                   A 36 36 0 0 1 38.74 75.98
                   L 39.16 63.99
                   A 24 24 0 0 0 57.84 56.06 Z" />
          <path class="expense-arc-4"
                d="M 34.99 75.65
                   A 36 36 0 0 1 4.79 47.48
                   L 16.52 44.99
                   A 24 24 0 0 0 36.66 63.77 Z" />
          <path class="expense-arc-5"
                d="M 4.20 43.76
                   A 36 36 0 0 1 7.11 25.36
                   L 18.07 30.24
                   A 24 24 0 0 0 16.13 42.51 Z" />
          <path class="expense-arc-6"
                d="M 8.82 22.00
                   A 36 36 0 0 1 36.24 4.20
                   L 37.49 16.13
                   A 24 24 0 0 0 19.22 28.00 Z" />
        </svg>
      </div>
      <div class="chart-label">Расходы</div>
    </div>
  </div>

  <!-- Полоска здоровья -->
  <div class="health">
    <div class="health-label">Ваши очки здоровья</div>
    <div class="health-bar">
      <div class="health-fill"></div>
      <div class="health-heart">
        <svg viewBox="0 0 24 24" aria-hidden="true">
          <path d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 6.02 4.02 4 6.5 4c1.74 0 3.41.81 4.5 2.09C12.09 4.81 13.76 4 15.5 4 17.98 4 20 6.02 20 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"/>
        </svg>
      </div>
    </div>
    <div class="health-value">100/100</div>
  </div>

  <!-- ===== ЗАДАНИЯ ===== -->
  <div class="tasks-card" id="tasksCard">
    <div class="tasks-slider" id="tasksSlider">
      <!-- День -->
      <div class="task-page" data-type="day">
        <h3>Задания дня</h3>

        <div class="tasks-short">
          <div class="task">
            <span>
              <span class="task-prefix">Задача 1:</span> Пройдите 1 урок
            </span>
            <div class="check active"></div>
          </div>
          <div class="task">
            <span>
              <span class="task-prefix">Задача 2:</span> Внести 100 рублей
            </span>
            <div class="check active"></div>
          </div>
        </div>

        <div class="tasks-full">
          <div class="task">
            <span>
              <span class="task-prefix">Задача 1:</span>
              Пройдите урок в разделе <span class="task-link">Обучение</span>
            </span>
            <div class="check active"></div>
          </div>
          <div class="task">
            <span>
              <span class="task-prefix">Задача 2:</span>
              Внесите 100 рублей на свой <span class="task-link">сберегательный счет</span>
            </span>
            <div class="check active"></div>
          </div>
          <div class="task">
            <span>
              <span class="task-prefix">Задача 3:</span>
              Прочитайте финансовые рекомендации в разделе
              <span class="task-link">Планирование</span>
            </span>
            <div class="check active"></div>
          </div>
        </div>
      </div>

      <!-- Неделя -->
      <div class="task-page" data-type="week">
        <h3>Задания недели</h3>

        <div class="tasks-short">
          <div class="task">
            <span>
              <span class="task-prefix">Задача 1:</span> Пройти 1 главу
            </span>
            <div class="check active"></div>
          </div>
          <div class="task">
            <span>
              <span class="task-prefix">Задача 2:</span> Сократить расходы
            </span>
            <div class="check active"></div>
          </div>
        </div>

        <div class="tasks-full">
          <div class="task">
            <span>
              <span class="task-prefix">Задача 1:</span>
              Завершите 3 главы в разделе <span class="task-link">Обучение</span>
            </span>
            <div class="check active"></div>
          </div>
          <div class="task">
            <span>
              <span class="task-prefix">Задача 2:</span>
              Сократите еженедельные траты минимум на
              <span class="task-link">10%</span>
            </span>
            <div class="check active"></div>
          </div>
          <div class="task">
            <span>
              <span class="task-prefix">Задача 3:</span>
              Пройдите один шаг на пути к вершине в разделе
              <span class="task-link">Мой Аверест</span>
            </span>
            <div class="check active"></div>
          </div>
        </div>
      </div>

      <!-- Месяц -->
      <div class="task-page" data-type="month">
        <h3>Задания месяца</h3>

        <div class="tasks-short">
          <div class="task">
            <span>
              <span class="task-prefix">Задача 1:</span> Распределить доход
            </span>
            <div class="check active"></div>
          </div>
          <div class="task">
            <span>
              <span class="task-prefix">Задача 2:</span> Покорите Аверест
            </span>
            <div class="check active"></div>
          </div>
        </div>

        <div class="tasks-full">
          <div class="task">
            <span>
              <span class="task-prefix">Задача 1:</span>
              Распределите месячный доход по целям в разделе
              <span class="task-link">Планирование</span>
            </span>
            <div class="check active"></div>
          </div>
          <div class="task">
            <span>
              <span class="task-prefix">Задача 2:</span>
              Пополните долгосрочные накопления минимум на
              <span class="task-link">5 000 ₽</span>
            </span>
            <div class="check active"></div>
          </div>
          <div class="task">
            <span>
              <span class="task-prefix">Задача 3:</span>
              Станьте легендой: Покорите 
              <span class="task-link">Аверест</span>
            </span>
            <div class="check active"></div>
          </div>
        </div>
      </div>
    </div>

    <div class="dots">
      <div class="dot active"></div>
      <div class="dot"></div>
      <div class="dot"></div>
    </div>
  </div>

  <!-- ===== РАЗДЕЛЫ ===== -->
  <div class="finance-title">Ваше финздоровье</div>

  <div class="finance-main" id="financeMain">
    <div class="finance-text">Планирование и накопления</div>
    <img src="plan.png" alt="" class="finance-illustration finance-illustration-main">
  </div>

  <div class="finance-grid">
    <div class="finance-card blue" id="calendarCard">
      <div class="finance-text">Календарь поступлений</div>
      <img src="calendar.png" alt="" class="finance-illustration">
    </div>
    <a href="study.html" class="finance-card green finance-link">
      <div class="finance-text">Обучение финздоровью</div>
      <img src="study.png" alt="" class="finance-illustration">
    </a>
  </div>

</div>

<!-- МОДАЛЬНЫЙ КАЛЕНДАРЬ -->
<div class="calendar-modal" id="calendarModal">
  <div class="calendar-modal-content">
    <button class="calendar-close" id="calendarClose">×</button>
    <iframe src="calendar.html" class="calendar-iframe"></iframe>
  </div>
</div>

<!-- ===== МЕНЮ ===== -->
<div class="navbar">
  <div class="nav-item active">
    <div class="nav-icon">
      <svg viewBox="0 0 24 24" aria-hidden="true">
        <path d="M12 3l9 8h-3v9h-5v-6H11v6H6v-9H3l9-8z"/>
      </svg>
    </div>
    <div class="nav-label">Главная</div>
  </div>
  <div class="nav-item">
    <div class="nav-icon">
      <svg viewBox="0 0 24 24" aria-hidden="true">
        <path d="M20 7H4V5h16v2zm0 4H4V9h16v2zm0 4H4v-2h16v2zm0 4H4v-2h16v2z"/>
      </svg>
    </div>
    <div class="nav-label">Платежи</div>
  </div>
  <div class="nav-item">
    <div class="nav-icon">
      <svg viewBox="0 0 24 24" aria-hidden="true">
        <path d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 6.02 4.02 4 6.5 4c1.74 0 3.41.81 4.5 2.09C12.09 4.81 13.76 4 15.5 4 17.98 4 20 6.02 20 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"/>
      </svg>
    </div>
    <div class="nav-label">Выгода</div>
  </div>
  <div class="nav-item">
    <div class="nav-icon">
      <svg viewBox="0 0 24 24" aria-hidden="true">
        <path d="M11 7h2v6h-2V7zm1 13c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm0-18C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2z"/>
      </svg>
    </div>
    <div class="nav-label">История</div>
  </div>
  <div class="nav-item">
    <div class="nav-icon">
      <svg viewBox="0 0 24 24" aria-hidden="true">
        <path d="M4 4h16v10H5.17L4 15.17V4zm0-2C2.9 2 2 2.9 2 4v18l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2H4z"/>
      </svg>
    </div>
    <div class="nav-label">Чаты</div>
  </div>
</div>

<script>
// ===== Слайдер и раскрытие заданий =====
let index = 0;
const slider = document.getElementById("tasksSlider");
const dots = document.querySelectorAll(".dot");
const maxIndex = 2;
const tasksCard = document.getElementById("tasksCard");

function updateSlider() {
  slider.style.transform = `translateX(-${index * 33.3333}%)`;
  dots.forEach((d, i) => d.classList.toggle("active", i === index));
}

dots.forEach((dot, i) => {
  dot.addEventListener("click", () => {
    index = i;
    updateSlider();
  });
});

/* свайп на тач-устройствах */
let startXTouch = 0;
slider.addEventListener("touchstart", e => {
  startXTouch = e.touches[0].clientX;
});
slider.addEventListener("touchend", e => {
  const diff = e.changedTouches[0].clientX - startXTouch;
  const threshold = 40;
  if (diff < -threshold && index < maxIndex) index++;
  if (diff > threshold && index > 0) index--;
  updateSlider();
});

/* свайп мышью для ПК */
let isMouseDown = false;
let startXMouse = 0;

slider.addEventListener("mousedown", e => {
  isMouseDown = true;
  startXMouse = e.clientX;
});

document.addEventListener("mouseup", e => {
  if (!isMouseDown) return;
  isMouseDown = false;
  const diff = e.clientX - startXMouse;
  const threshold = 40;
  if (diff < -threshold && index < maxIndex) index++;
  if (diff > threshold && index > 0) index--;
  updateSlider();
});

/* клик по странице — переключение краткий/подробный */
document.querySelectorAll(".task-page").forEach(page => {
  page.addEventListener("click", () => {
    tasksCard.classList.toggle("expanded");
  });
});

updateSlider();

/* переход в аналитику по клику на диаграммы */
document.getElementById("chartsCard").onclick = () => {
  location.href = "analytics.html";
};

/* переход в планирование и накопления */
const financeMain = document.getElementById('financeMain');
if (financeMain) {
  financeMain.addEventListener('click', () => {
    location.href = 'finance.html';
  });
}

/* всплывающее окно календаря */
const calendarCard = document.getElementById('calendarCard');
const calendarModal = document.getElementById('calendarModal');
const calendarClose = document.getElementById('calendarClose');

if (calendarCard && calendarModal && calendarClose) {
  calendarCard.addEventListener('click', () => {
    calendarModal.style.display = 'flex';
  });

  calendarClose.addEventListener('click', () => {
    calendarModal.style.display = 'none';
  });

  calendarModal.addEventListener('click', (e) => {
    if (e.target === calendarModal) {
      calendarModal.style.display = 'none';
    }
  });
}
</script>

</body>
</html>
